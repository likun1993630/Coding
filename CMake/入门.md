![参考 Cmake Practice](./res/CMake Practice.pdf)
![1562856450906](res/1562856450906.png)

# 使用g++ 编译单个文件

```
$ touch main.cpp
$ subl main.cpp
```

main.cpp

```cpp
# include <iostream>
useing namespace std;

int main(int argc, char **argv)
{
    cout << "Hello SLAM!" << endl;
    return 0;
}
```

编译：

```shell
// cd 到main所在目录
$ g++ main.cpp
// 运行生成的可执行文件
$ ./a.out
```

# 使用cmake编译main.cpp

```shell
// cd到mian.cpp 所在文件夹
$ touch CMakeLists.txt
$ subl CMakeLists.txt
```

CMakeLists.txt

```cmake
project(helloSLAM)

add_executable( sayHello main.cpp)
```

使用cmake构建

```shell
$ cmake .
```

使用make生成可执行文件

```
$ make
```

## 建立build文件夹

```shell
//cd 到main.cpp 文件夹
$ mkdir build
$ cd build
$ camke ..
$ make
```

# 使用cmake管理一个简单的库

```shell
$ mkdir include src
$ touch include/Hello.h src/Hello.cpp
```

Hello.h

```cpp
#ifndef LIBHELLOSLAM_H_
#define LIBHELLOSLAM_H_

void sayHello();

#endif
```

Hello.cpp

```cpp
#include "Hello.h"
#include <iostream>

using namespace std;

viod syaHello()
{
    cout << "Hello SLAM!" << endl;
}
```

main.cpp

```cpp
#include "Hello.h"
int main(int argc, char **argv)
{
    sayHello();
    return 0;
}
```

CMakeLists.txt

```cmake
project(helloSLAM)
include_directories("include")
add_library(libHello src/Hello.cpp)
add_executable(sayHello main.cpp)
target_link_libraries(sayHello libHello)
```

```shell
$ mkdir build
$ cd build
$ cmake ..
$ make
```
