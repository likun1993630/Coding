# 实验楼教程
## Linux 桌面环境介绍
相对于现在的 Windows 系统，UNIX/Linux 本身是没有图形界面的，我们通常在 UNIX/Linux 发行版上看到的图形界面实际都只是运行在 Linux 系统之上的一套软件，类似 Windows95 之前的 Windows 的图形界面实则也只是运行在 DOS 环境的一套软件。实现了客户端功能的桌面环境有 KDE，GNOME，XFCE，LXDE。
![](./res/wm.png)

## shell
UNIX/Linux 操作系统下的 Shell 既是用户交互的界面，也是控制系统的脚本语言。当然这一点也有别于 Windows 下的命令行，虽然该命令行也提供了很简单的控制语句。UNIX/Linux 操作系统下的 Shell 既是用户交互的界面，也是控制系统的脚本语言。当然这一点也有别于 Windows 下的命令行，虽然该命令行也提供了很简单的控制语句。

## 命令行操作体验 
```shell
#创建一个名为 file 的文件，touch是一个命令
$ touch file 

#进入一个目录，cd是一个命令
$ cd /etc/

#查看当前所在目录
$ pwd
```

### 常用快捷键
| 按键          | 作用                                       |
|---------------|--------------------------------------------|
| Ctrl+c        | 强制终止当前程序                           |
| Ctrl+d        | 键盘输入结束或退出终端                     |
| Ctrl+s        | 暂停当前程序，暂停后按下任意键恢复运行     |
| Ctrl+z        | 将当前程序放到后台运行，恢复到前台为命令fg |
| Ctrl+a        | 将光标移至输入行头，相当于Home键           |
| Ctrl+e        | 将光标移至输入行末，相当于End键            |
| Ctrl+k        | 删除从光标所在位置到行末                   |
| Alt+Backspace | 向前删除一个单词                           |
| Shift+PgUp    | 将终端显示向上滚动                         |
| Shift+PgDn    | 将终端显示向下滚动                         |

### 利用历史输入命令
使用上下键选择之前的命令

### 使用通配符
```shell
$ cd /home/shiyanlou
$ touch asd.txt fgh.txt
# 列出当前文件夹内的.txt 文件
$ ls *.txt
```
在创建文件的时候，如果需要一次性创建多个文件，比如：“love_1_linux.txt，love_2_linux.txt，... love_10_linux.txt”
```shell
$ touch love_{1..10}_shiyanlou.txt
```

Shell 常用通配符：

| 字符                  | 含义                                        |
|-----------------------|---------------------------------------------|
| *                     | 匹配 0 或多个字符                           |
| ?                     | 匹配任意一个字符                            |
| [list]                | 匹配 list 中的任意单一字符                  |
| [^list]               | 匹配 除list 中的任意单一字符以外的字符      |
| [c1-c2]               | 匹配 c1-c2 中的任意单一字符 如：[0-9] [a-z] |
| {string1,string2,...} | 匹配 string1 或 string2 (或更多)其一字符串  |
| {c1..c2}              | 匹配 c1-c2 中全部字符 如{1..10}             |

### 在命令行中获取帮助
可以通过执行man命令调用手册页
```shell
$ man <command_name>
```

```shell
man man
```
可以查看man手册本身的详细信息。手册通常被分为8个区段，安排如下：

| 区段 | 说明                                     |
|------|------------------------------------------|
| 1    | 一般命令                                 |
| 2    | 系统调用                                 |
| 3    | 库函数，涵盖了C标准函数库                |
| 4    | 特殊文件（通常是/dev中的设备）和驱动程序 |
| 5    | 文件格式和约定                           |
| 6    | 游戏和屏保                               |
| 7    | 杂项                                     |
| 8    | 系统管理命令和守护进程                   |

比如想查看位于man 1 区段的ls 命令的详细信息：
```shell
$ man 1 ls
```
一般包括以下部分内容：
- NAME（名称）
> 该命令或函数的名称，接着是一行简介。
- SYNOPSIS（概要）
> 对于命令，正式的描述它如何运行，以及需要什么样的命令行参数。对于函数，介绍函数所需的参数，以及哪个头文件包含该函数的定义。
- DESCRIPTION（说明）
>命令或函数功能的文本描述。
- EXAMPLES（示例）
> 常用的一些示例。
- SEE ALSO（参见）
> 相关命令或函数的列表。

想要获得更详细的帮助，你还可以使用info命令，不过通常使用man就足够了。如果你知道某个命令的作用，只是想快速查看一些它的某个具体参数的作用，那么你可以使用--help参数，大部分命令都会带有这个参数，如：
```shell
$ ls --help
```

### 小工具banner
可以在shell 打印想打印的大字符

#先使用如下命令安装：
$ sudo apt-get update
$ sudo apt-get install sysvbanner
$ banner shiyanlou

或者你觉得这字体不好看，那么你还可以使用默认已经安装的一个命令printerbanner：

$ printerbanner -w 50 A

## Linux 用户管理 
Linux 是一个可以实现多用户登录的操作系统，比如“李雷”和“韩梅梅”都可以同时登录同一台主机，他们共享一些主机的资源，但他们也分别有自己的用户空间，用于存放各自的文件。但实际上他们的文件都是放在同一个物理磁盘上的甚至同一个逻辑分区或者目录里，但是由于 Linux 的 用户管理 和 权限机制，不同用户不可以轻易地查看、修改彼此的文件。

### 查看用户 

```shell
#要查看当前登录用户的用户
$ who i am
```

who 命令其它常用参数:

| 参数 | 说明                       |
|------|----------------------------|
| -a   | 打印能打印的全部           |
| -d   | 打印死掉的进程             |
| -m   | 同am i,mom likes           |
| -q   | 打印当前登录用户数及用户名 |
| -u   | 打印当前登录用户登录信息   |
| -r   | 打印运行等级               |

### 创建用户 
在 Linux 系统里， root 账户拥有整个系统至高无上的权利，比如 新建/添加 用户。

> root 权限，系统权限的一种，与 SYSTEM 权限可以理解成一个概念，但高于 Administrator 权限，root 是 Linux 和 UNIX 系统中的超级管理员用户帐户，该帐户拥有整个系统至高无上的权力，所有对象他都可以操作，所以很多黑客在入侵系统的时候，都要把权限提升到 root 权限，用 Windows 的方法理解也就是将自己的非法帐户添加到 Administrators 用户组。更比如安卓操作系统中（基于 Linux 内核）获得 root 权限之后就意味着已经获得了手机的最高权限，这时候你可以对手机中的任何文件（包括系统文件）执行所有增、删、改、查的操作。

我们一般登录系统时都是以普通账户的身份登录的，要创建用户需要 root 权限，这里就要用到 sudo 这个命令了。不过使用这个命令有两个大前提，一是你要知道当前登录用户的密码，二是当前用户必须在 sudo 用户组。

su，su- 与 sudo:

su <user> 可以切换到用户 user，执行时需要输入目标用户的密码，sudo <cmd> 可以以特权级别运行 cmd 命令，需要当前用户属于 sudo 组，且需要输入当前用户的密码。su - <user> 命令也是切换用户，同时环境变量也会跟着改变成目标用户的环境变量。
  
